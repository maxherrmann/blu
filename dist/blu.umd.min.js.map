{"version":3,"file":"blu.umd.min.js","mappings":"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","sources":["webpack://blu/webpack/universalModuleDefinition","webpack://blu/./blu.umd.js","webpack://blu/./src/bluetooth.js","webpack://blu/./src/characteristic.js","webpack://blu/./src/configuration.js","webpack://blu/./src/descriptions.js","webpack://blu/./src/descriptor.js","webpack://blu/./src/device.js","webpack://blu/./src/gattOperationQueue.js","webpack://blu/./src/logger.js","webpack://blu/./src/request.js","webpack://blu/./src/response.js","webpack://blu/./src/scanner.js","webpack://blu/./src/service.js","webpack://blu/./src/version.js","webpack://blu/./utils/bluError.js","webpack://blu/./utils/eventEmitter.js","webpack://blu/./utils/isArray.js","webpack://blu/./utils/isSubclass.js","webpack://blu/./utils/isTypedArray.js","webpack://blu/./utils/logger.js","webpack://blu/webpack/bootstrap","webpack://blu/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"blu\"] = factory();\n\telse\n\t\troot[\"blu\"] = factory();\n})(this, () => {\nreturn ","module.exports = {\n\tbluetooth: require(\"./src/bluetooth.js\"),\n\tconfiguration: require(\"./src/configuration.js\"),\n\tlogger: require(\"./src/logger.js\"),\n\tscanner: require(\"./src/scanner.js\"),\n\tversion: require(\"./src/version.js\"),\n\n\tServiceDescription: require(\"./src/descriptions.js\").ServiceDescription,\n\tCharacteristicDescription: require(\"./src/descriptions.js\").CharacteristicDescription,\n\tDescriptorDescription: require(\"./src/descriptions.js\").DescriptorDescription,\n\tService: require(\"./src/service.js\"),\n\tCharacteristic: require(\"./src/characteristic.js\"),\n\tDescriptor: require(\"./src/descriptor.js\"),\n\tDevice: require(\"./src/device.js\"),\n\tRequest: require(\"./src/request.js\"),\n\tResponse: require(\"./src/response.js\"),\n\tBluError: require(\"./utils/bluError.js\")\n}","const EventEmitter = require(\"../utils/eventEmitter.js\")\n\nclass Bluetooth extends EventEmitter {\n\t#connectedDevices = new Set()\n\t#isDataTransferLoggingEnabled = false\n\n\tconstructor() {\n\t\tsuper(true)\n\n\t\tthis.addChannel(\"bluetooth-enabled\")\n\t\tthis.addChannel(\"bluetooth-disabled\")\n\n\t\tthis.addChannel(\"device-connected\")\n\t\tthis.addChannel(\"device-connection-lost\")\n\t\tthis.addChannel(\"device-disconnected\")\n\n\t\tif (this.isSupported) {\n\t\t\tglobalThis.navigator.bluetooth.addEventListener(\"availabilitychanged\", event => {\n\t\t\t\tthis.emit(\n\t\t\t\t\tevent.value ?\n\t\t\t\t\t\"bluetooth-enabled\" :\n\t\t\t\t\t\"bluetooth-disabled\"\n\t\t\t\t)\n\t\t\t})\n\n\t\t\tthis.on(\"bluetooth-disabled\", () => {\n\t\t\t\tthis.#connectedDevices.clear()\n\t\t\t})\n\n\t\t\tthis.on(\"device-connected\", device => {\n\t\t\t\tthis.#connectedDevices.add(device)\n\t\t\t})\n\n\t\t\tthis.on(\"device-disconnected\", device => {\n\t\t\t\tthis.#connectedDevices.delete(device)\n\t\t\t})\n\t\t}\n\t}\n\n\tget isSupported() {\n\t\treturn !!globalThis.navigator?.bluetooth\n\t}\n\n\tget isDataTransferLoggingEnabled() {\n\t\treturn this.#isDataTransferLoggingEnabled\n\t}\n\n\tget connectedDevices() {\n\t\treturn Array.from(this.#connectedDevices)\n\t}\n\n\tget connectedDevice() {\n\t\treturn this.connectedDevices[this.connectedDevices.length - 1] ?? null\n\t}\n\n\tisAvailable() {\n\t\treturn new Promise(resolve => {\n\t\t\tif (this.isSupported) {\n\t\t\t\tglobalThis.navigator.bluetooth.getAvailability()\n\t\t\t\t.then(available => {\n\t\t\t\t\tresolve(available)\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresolve(false)\n\t\t\t}\n\t\t})\n\t}\n\n\tenableDataTransferLogging() {\n\t\tthis.#isDataTransferLoggingEnabled = true\n\t}\n\n\tdisableDataTransferLogging() {\n\t\tthis.#isDataTransferLoggingEnabled = false\n\t}\n}\n\nmodule.exports = new Bluetooth()","const logger = require(\"./logger.js\")\nconst bluetooth = require(\"./bluetooth.js\")\n\nconst Request = require(\"./request.js\")\nconst Response = require(\"./response.js\")\n\nconst BluError = require(\"../utils/bluError.js\")\nconst EventEmitter = require(\"../utils/eventEmitter.js\")\nconst isArray = require(\"../utils/isArray.js\")\nconst isTypedArray = require(\"../utils/isTypedArray.js\")\n\nclass Characteristic extends EventEmitter {\n\tservice\n\tdescription\n\tproperties\n\tdescriptors\n\tresponseType = Response\n\n\t_bluetoothCharacteristic\n\n\tconstructor(service, bluetoothCharacteristic, description) {\n\t\tsuper()\n\n\t\tthis.service = service\n\t\tthis.description = description\n\t\tthis.properties = new CharacteristicProperties(\n\t\t\tbluetoothCharacteristic.properties\n\t\t)\n\t\tthis.descriptors = []\n\n\t\tthis._bluetoothCharacteristic = bluetoothCharacteristic\n\n\t\tthis.on(\"notification\", response => {\n\t\t\tif (bluetooth.isDataTransferLoggingEnabled) {\n\t\t\t\tlogger.target.debug(\n\t\t\t\t\t`${this.description.name}: Notification received:`,\n\t\t\t\t\tresponse\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\tget uuid() {\n\t\treturn this._bluetoothCharacteristic.uuid\n\t}\n\n\tget value() {\n\t\treturn this._bluetoothCharacteristic.value\n\t}\n\n\tget hasExpectedProperties() {\n\t\treturn this.properties.string === this.description.expectedIndicators\n\t}\n\n\tasync onceReady() {}\n\n\treadValue() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (!this.properties.read) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Cannot read from a non-readable characteristic.`\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.service.device.performGATTOperation(() => {\n\t\t\t\t\treturn this._bluetoothCharacteristic.readValue()\n\t\t\t\t})\n\n\t\t\t\tif (bluetooth.isDataTransferLoggingEnabled) {\n\t\t\t\t\tlogger.target.debug(\n\t\t\t\t\t\t`${this.description.name}: Read value:`,\n\t\t\t\t\t\tthis.value\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tresolve(this.value)\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot read value.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\tread(responseProperty) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (typeof responseProperty !== \"string\") {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Argument \"responseProperty\" must be of type \"string\".`\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlet value = await this.readValue()\n\n\t\t\t\tresolve(new this.responseType(value)[responseProperty])\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(error)\n\t\t\t}\n\t\t})\n\t}\n\n\twrite(value, withoutResponse = false) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (withoutResponse && !this.properties.writeWithoutResponse) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Cannot write without response to a characteristic ` +\n\t\t\t\t\t\t`that is not writable without response.`\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!withoutResponse && !this.properties.write) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Cannot write to a non-writable characteristic.`\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!isTypedArray(value)) {\n\t\t\t\tif (isArray(value)) {\n\t\t\t\t\tif (!value.every(entry => typeof entry === \"number\")) {\n\t\t\t\t\t\treject(\n\t\t\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t`Argument \"value\" must be an array of items ` +\n\t\t\t\t\t\t\t\t`that are all of type \"number\".`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tvalue = new Uint8Array(value)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (typeof value !== \"number\") {\n\t\t\t\t\t\treject(\n\t\t\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t`Argument \"value\" must be of type \"number\".`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tvalue = new Uint8Array([value])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (bluetooth.isDataTransferLoggingEnabled) {\n\t\t\t\t\tlogger.target.debug(\n\t\t\t\t\t\t`${this.description.name}: Write:`,\n\t\t\t\t\t\tvalue\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tif (withoutResponse) {\n\t\t\t\t\tawait this.service.device.performGATTOperation(() => {\n\t\t\t\t\t\treturn this._bluetoothCharacteristic.writeValueWithoutResponse(value)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tawait this.service.device.performGATTOperation(() => {\n\t\t\t\t\t\treturn this._bluetoothCharacteristic.writeValueWithResponse(value)\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot write value.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\trequest(request, timeout = REQUEST_TIMEOUT) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (!(request instanceof Request)) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Argument \"request\" must be a valid instance of \"Request\". ` +\n\t\t\t\t\t\t`Got \"${request?.constructor.name}\".`\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttimeout !== undefined &&\n\t\t\t\ttimeout !== null &&\n\t\t\t\ttypeof timeout !== \"number\"\n\t\t\t) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Argument \"timeout\" must be either \"undefined\", \"null\" or ` +\n\t\t\t\t\t\t`of type \"number\". `\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (bluetooth.isDataTransferLoggingEnabled) {\n\t\t\t\tlogger.target.debug(\n\t\t\t\t\t`${this.description.name}: Request:`,\n\t\t\t\t\trequest\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tlet onResponse = response => {\n\t\t\t\tif (request.responseType.validatorFunction(response)) {\n\t\t\t\t\tclearTimeout(timeoutTimer)\n\n\t\t\t\t\tthis.off(\"notification\", onResponse)\n\n\t\t\t\t\tresolve(new request.responseType(response.data))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.on(\"notification\", onResponse)\n\n\t\t\tif (timeout) {\n\t\t\t\tvar timeoutTimer = setTimeout(() => {\n\t\t\t\t\tthis.off(\"notification\", onResponse)\n\n\t\t\t\t\treject(\n\t\t\t\t\t\tnew NotificationTimeoutError(\n\t\t\t\t\t\t\t`Did not receive an expected notification ` +\n\t\t\t\t\t\t\t`from the device within ${timeout} ms.`\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}, timeout)\n\t\t\t}\n\n\t\t\tthis.write(request.data)\n\t\t\t.catch(error => {\n\t\t\t\tclearTimeout(timeoutTimer)\n\n\t\t\t\tthis.off(\"notification\", onResponse)\n\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot request from characteristic.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t})\n\t\t})\n\t}\n\n\trequestAll(requests, timeout = REQUEST_TIMEOUT) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (\n\t\t\t\t!isArray(requests) ||\n\t\t\t\t!requests.every(request => request instanceof Request)\n\t\t\t) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Argument \"requests\" must be an array of instances of \"Request\".`\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttimeout !== undefined &&\n\t\t\t\ttimeout !== null &&\n\t\t\t\ttypeof timeout !== \"number\"\n\t\t\t) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Argument \"timeout\" must be either \"undefined\", \"null\" or ` +\n\t\t\t\t\t\t`of type \"number\". `\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlet responses = []\n\n\t\t\t\tfor (const request of requests) {\n\t\t\t\t\tresponses.push(await this.request(request, timeout))\n\t\t\t\t}\n\n\t\t\t\tresolve(responses)\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(error)\n\t\t\t}\n\t\t})\n\t}\n\n\tstartListeningForNotifications() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (!this.properties.notify) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot start listening to a non-notifying characteristic.\"\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.service.device.performGATTOperation(() => {\n\t\t\t\t\treturn this._bluetoothCharacteristic.startNotifications()\n\t\t\t\t})\n\n\t\t\t\tthis._bluetoothCharacteristic.addEventListener(\n\t\t\t\t\t\"characteristicvaluechanged\",\n\t\t\t\t\tthis.#onNotification.bind(this)\n\t\t\t\t)\n\n\t\t\t\tthis.properties.isListening = true\n\n\t\t\t\tlogger.debug(\"Started listening for notifications.\", this)\n\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot start listening to characteristic.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\tstopListeningForNotifications() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (!this.properties.isListening) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot stop listening to a characteristic that is not yet listened to.\"\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.service.device.performGATTOperation(() => {\n\t\t\t\t\treturn this._bluetoothCharacteristic.stopNotifications()\n\t\t\t\t})\n\n\t\t\t\tthis._bluetoothCharacteristic.removeEventListener(\n\t\t\t\t\t\"characteristicvaluechanged\",\n\t\t\t\t\tthis.#onNotification.bind(this)\n\t\t\t\t)\n\n\t\t\t\tthis.properties.isListening = false\n\n\t\t\t\tlogger.debug(\"Stopped listening for notifications.\", this)\n\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew CharacteristicOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot stop listening to characteristic.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\t#onNotification() {\n\t\tthis.emit(\"notification\", new this.responseType(this.value))\n\t}\n}\n\nconst REQUEST_TIMEOUT = 5000\n\nclass CharacteristicProperties {\n\tread\n\twrite\n\twriteWithoutResponse\n\tnotify\n\n\tconstructor(bluetoothCharacteristicProperties) {\n\t\tthis.read = bluetoothCharacteristicProperties.read\n\t\tthis.write = bluetoothCharacteristicProperties.write\n\t\tthis.writeWithoutResponse = bluetoothCharacteristicProperties.writeWithoutResponse\n\t\tthis.notify = bluetoothCharacteristicProperties.notify\n\n\t\tif (this.notify) {\n\t\t\tthis.isListening = false\n\t\t}\n\t}\n\n\tget string() {\n\t\treturn this.toString()\n\t}\n\n\ttoString() {\n\t\tlet indicators = [\n\t\t\tthis.read ? \"R\" : \"-\",\n\t\t\tthis.write ? \"W\" : \"-\",\n\t\t\tthis.writeWithoutResponse ? \"w\" : \"-\",\n\t\t\tthis.notify ? \"N\" : \"-\"\n\t\t]\n\n\t\treturn indicators.join(\"\")\n\t}\n}\n\nclass CharacteristicOperationError extends BluError {\n\tcharacteristic\n\n\tconstructor(characteristic, message, underlyingError) {\n\t\tsuper(message, underlyingError)\n\n\t\tthis.characteristic = characteristic\n\t}\n}\n\nclass NotificationTimeoutError extends BluError {}\n\nmodule.exports = Characteristic","const Device = require(\"./device.js\")\n\nconst BluError = require(\"../utils/bluError.js\")\nconst isSubclass = require(\"../utils/isSubclass.js\")\n\nclass Configuration {\n\t#scannerConfig\n\t#deviceType\n\t#ensureCompleteDeviceBluetoothInterface\n\t#autoListenToNotifiableCharacteristics\n\n\tconstructor() {\n\t\tthis.restoreDefaults()\n\t}\n\n\tget scannerConfig() {\n\t\treturn this.#scannerConfig\n\t}\n\n\tget deviceType() {\n\t\treturn this.#deviceType\n\t}\n\n\tget ensureCompleteDeviceBluetoothInterface() {\n\t\treturn this.#ensureCompleteDeviceBluetoothInterface\n\t}\n\n\tget autoListenToNotifiableCharacteristics() {\n\t\treturn this.#autoListenToNotifiableCharacteristics\n\t}\n\n\trestoreDefaults() {\n\t\tthis.#scannerConfig = { acceptAllDevices: true }\n\t\tthis.#deviceType = Device\n\t\tthis.#ensureCompleteDeviceBluetoothInterface = true\n\t\tthis.#autoListenToNotifiableCharacteristics = true\n\t}\n\n\tuse(scannerConfig, deviceType) {\n\t\tif (scannerConfig) {\n\t\t\tthis.useScannerConfig(scannerConfig)\n\t\t}\n\n\t\tif (deviceType) {\n\t\t\tthis.useDeviceType(deviceType)\n\t\t}\n\t}\n\n\tuseScannerConfig(scannerConfig) {\n\t\tif (typeof scannerConfig !== \"object\") {\n\t\t\tthrow new BluConfigurationError(\n\t\t\t\t`Argument \"scannerConfig\" must be an object.`\n\t\t\t)\n\t\t}\n\n\t\t// TODO: Validate scannerConfig here once it is typed.\n\t\t// See: https://developer.mozilla.org/en-US/docs/Web/API/Bluetooth/requestDevice#parameters\n\n\t\tthis.#scannerConfig = scannerConfig\n\t}\n\n\tuseDeviceType(deviceType) {\n\t\tif (!isSubclass(deviceType, Device)) {\n\t\t\tthrow new BluConfigurationError(\n\t\t\t\t`Argument \"deviceType\" must be ` +\n\t\t\t\t`a class that is or extends \"Device\".`\n\t\t\t)\n\t\t}\n\n\t\tthis.#deviceType = deviceType\n\t}\n\n\tset(configuration) {\n\t\tif (typeof configuration !== \"object\") {\n\t\t\tthrow new BluConfigurationError(\n\t\t\t\t`Argument \"configuration\" must be an object.`\n\t\t\t)\n\t\t}\n\n\t\tif (\n\t\t\tObject.getOwnPropertyNames(configuration).every(propertyName => {\n\t\t\t\treturn [\n\t\t\t\t\t\"ensureCompleteDeviceBluetoothInterface\",\n\t\t\t\t\t\"autoListenToNotifiableCharacteristics\"\n\t\t\t\t]\n\t\t\t\t.includes(propertyName)\n\t\t\t})\n\t\t) {\n\t\t\tif (Object.hasOwn(configuration, \"ensureCompleteDeviceBluetoothInterface\")) {\n\t\t\t\tif (typeof configuration.ensureCompleteDeviceBluetoothInterface !== \"boolean\") {\n\t\t\t\t\tthrow new BluConfigurationError(\n\t\t\t\t\t\t`Configuration property \"ensureCompleteDeviceBluetoothInterface\" ` +\n\t\t\t\t\t\t`must be of type \"boolean\".`\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tthis.#ensureCompleteDeviceBluetoothInterface =\n\t\t\t\t\tconfiguration.ensureCompleteDeviceBluetoothInterface\n\t\t\t}\n\n\t\t\tif (Object.hasOwn(configuration, \"autoListenToNotifiableCharacteristics\")) {\n\t\t\t\tif (typeof configuration.autoListenToNotifiableCharacteristics !== \"boolean\") {\n\t\t\t\t\tthrow new BluConfigurationError(\n\t\t\t\t\t\t`Configuration property \"autoListenToNotifiableCharacteristics\" ` +\n\t\t\t\t\t\t`must be of type \"boolean\".`\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tthis.#autoListenToNotifiableCharacteristics =\n\t\t\t\t\tconfiguration.autoListenToNotifiableCharacteristics\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthrow new BluConfigurationError(\n\t\t\t\t`Argument \"configuration\" must contain an object with valid configuration options.`\n\t\t\t)\n\t\t}\n\t}\n}\n\nclass BluConfigurationError extends BluError {}\n\nmodule.exports = new Configuration()","const Service = require(\"./service.js\")\nconst Characteristic = require(\"./characteristic.js\")\nconst Descriptor = require(\"./descriptor.js\")\n\nconst isArray = require(\"../utils/isArray.js\")\nconst isSubclass = require(\"../utils/isSubclass.js\")\nconst BluError = require(\"../utils/bluError.js\")\n\nclass Description {\n\tuuid\n\tidentifier\n\tname\n\n\tconstructor(\n\t\tuuid,\n\t\tidentifier = null,\n\t\tname = \"Unspecified Entity\"\n\t) {\n\t\tif (typeof uuid !== \"string\" && typeof uuid !== \"number\") {\n\t\t\tthrow new DescriptionConstructionError(\n\t\t\t\t`Argument \"uuid\" must be either of type \"string\" or \"number\".`\n\t\t\t)\n\t\t}\n\n\t\tif (typeof uuid === \"string\") {\n\t\t\tuuid = uuid.toLowerCase()\n\t\t}\n\n\t\tif (identifier !== null && typeof identifier !== \"string\") {\n\t\t\tthrow new DescriptionConstructionError(\n\t\t\t\t`Argument \"identifier\" must be either \"null\" or of type \"string\".`\n\t\t\t)\n\t\t}\n\n\t\tif (typeof name !== \"string\") {\n\t\t\tthrow new DescriptionConstructionError(\n\t\t\t\t`Argument \"name\" must be of type \"string\".`\n\t\t\t)\n\t\t}\n\n\t\tthis.uuid = uuid\n\t\tthis.identifier = identifier\n\t\tthis.name = name\n\t}\n}\n\nclass ServiceDescription extends Description {\n\ttype\n\tcharacteristics\n\n\tconstructor(\n\t\tuuid,\n\t\tidentifier,\n\t\tname = \"Unspecified Service\",\n\t\ttype = Service,\n\t\tcharacteristicDescriptions = []\n\t) {\n\t\tsuper(uuid, identifier, name)\n\n\t\tif (!isSubclass(type, Service)) {\n\t\t\tthrow new ServiceDescriptionConstructionError(\n\t\t\t\t`Argument \"type\" must be a class that is or extends \"Service\".`\n\t\t\t)\n\t\t}\n\n\t\tif (\n\t\t\t!isArray(characteristicDescriptions) ||\n\t\t\t!characteristicDescriptions.every(characteristicDescription =>\n\t\t\t\tcharacteristicDescription instanceof CharacteristicDescription\n\t\t\t)\n\t\t) {\n\t\t\tthrow new ServiceDescriptionConstructionError(\n\t\t\t\t`Argument \"characteristicDescriptions\" must be an array ` +\n\t\t\t\t`of \"CharacteristicDescription\".`\n\t\t\t)\n\t\t}\n\n\t\tthis.type = type\n\t\tthis.characteristics = characteristicDescriptions\n\t}\n}\n\nclass CharacteristicDescription extends Description {\n\ttype\n\tdescriptors\n\texpectedIndicators\n\n\tconstructor(\n\t\tuuid,\n\t\tidentifier,\n\t\tname = \"Unspecified Characteristic\",\n\t\ttype = Characteristic,\n\t\tdescriptorDescriptions = [],\n\t\texpectedIndicators = null\n\t) {\n\t\tsuper(uuid, identifier, name)\n\n\t\tif (!isSubclass(type, Characteristic)) {\n\t\t\tthrow new CharacteristicDescriptionConstructionError(\n\t\t\t\t`Argument \"type\" must be a class that is or extends \"Characteristic\".`\n\t\t\t)\n\t\t}\n\n\t\tif (\n\t\t\t!isArray(descriptorDescriptions) ||\n\t\t\t!descriptorDescriptions.every(descriptorDescription =>\n\t\t\t\tdescriptorDescription instanceof DescriptorDescription\n\t\t\t)\n\t\t) {\n\t\t\tthrow new CharacteristicDescriptionConstructionError(\n\t\t\t\t`Argument \"descriptorDescriptions\" must be an array ` +\n\t\t\t\t`of \"DescriptorDescription\".`\n\t\t\t)\n\t\t}\n\n\t\tif (expectedIndicators !== null && typeof expectedIndicators !== \"string\") {\n\t\t\tthrow new CharacteristicDescriptionConstructionError(\n\t\t\t\t`Argument \"expectedIndicators\" must be either \"null\" ` +\n\t\t\t\t`or of type \"string\".`\n\t\t\t)\n\t\t}\n\n\t\tif (\n\t\t\ttypeof expectedIndicators === \"string\" &&\n\t\t\t!expectedIndicators.match(/^[R-][W-][w-][N-]$/)\n\t\t) {\n\t\t\tthrow new CharacteristicDescriptionConstructionError(\n\t\t\t\t`Argument \"expectedIndicators\" contains a string ` +\n\t\t\t\t`that is incorrectly formatted.`\n\t\t\t)\n\t\t}\n\n\t\tthis.type = type\n\t\tthis.descriptors = descriptorDescriptions\n\t\tthis.expectedIndicators = expectedIndicators ?? null\n\t}\n}\n\nclass DescriptorDescription extends Description {\n\ttype\n\n\tconstructor(\n\t\tuuid,\n\t\tidentifier = null,\n\t\tname = \"Unspecified Descriptor\",\n\t\ttype = Descriptor\n\t) {\n\t\tsuper(uuid, identifier, name)\n\n\t\tif (!isSubclass(type, Descriptor)) {\n\t\t\tthrow new DescriptorDescriptionConstructionError(\n\t\t\t\t`Argument \"type\" must be a class that is or extends \"Descriptor\".`\n\t\t\t)\n\t\t}\n\n\t\tthis.type = type\n\t}\n}\n\nclass DescriptionConstructionError extends BluError {}\nclass ServiceDescriptionConstructionError extends BluError {}\nclass CharacteristicDescriptionConstructionError extends BluError {}\nclass DescriptorDescriptionConstructionError extends BluError {}\n\nmodule.exports = {\n\tServiceDescription: ServiceDescription,\n\tCharacteristicDescription: CharacteristicDescription,\n\tDescriptorDescription: DescriptorDescription\n}","const logger = require(\"./logger.js\")\nconst bluetooth = require(\"./bluetooth.js\")\n\nconst Response = require(\"./response.js\")\n\nconst BluError = require(\"../utils/bluError.js\")\nconst isArray = require(\"../utils/isArray.js\")\nconst isTypedArray = require(\"../utils/isTypedArray.js\")\n\nclass Descriptor {\n\tcharacteristic\n\tdescription\n\tresponseType = Response\n\n\t_bluetoothDescriptor\n\n\tconstructor(characteristic, bluetoothDescriptor, description) {\n\t\tthis.characteristic = characteristic\n\t\tthis.description = description\n\n\t\tthis._bluetoothDescriptor = bluetoothDescriptor\n\t}\n\n\tget uuid() {\n\t\treturn this._bluetoothDescriptor.uuid\n\t}\n\n\tget value() {\n\t\treturn this._bluetoothDescriptor.value\n\t}\n\n\tasync onceReady() {}\n\n\treadValue() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tawait this.characteristic.service.device.performGATTOperation(() => {\n\t\t\t\t\treturn this._bluetoothDescriptor.readValue()\n\t\t\t\t})\n\n\t\t\t\tif (bluetooth.isDataTransferLoggingEnabled) {\n\t\t\t\t\tlogger.target.debug(\n\t\t\t\t\t\t`${this.description.name}: Read value:`,\n\t\t\t\t\t\tthis.value\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tresolve(this.value)\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew DescriptorOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot read value.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\tread(responseProperty) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (typeof responseProperty !== \"string\") {\n\t\t\t\treject(\n\t\t\t\t\tnew DescriptorOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t`Argument \"responseProperty\" must be of type \"string\".`\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlet value = await this.readValue()\n\n\t\t\t\tresolve(new this.responseType(value)[responseProperty])\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(error)\n\t\t\t}\n\t\t})\n\t}\n\n\twrite(value) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (!isTypedArray(value)) {\n\t\t\t\tif (isArray(value)) {\n\t\t\t\t\tif (!value.every(entry => typeof entry === \"number\")) {\n\t\t\t\t\t\treject(\n\t\t\t\t\t\t\tnew DescriptorOperationError(\n\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t`Argument \"value\" must be an array of items ` +\n\t\t\t\t\t\t\t\t`that are all of type \"number\".`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tvalue = new Uint8Array(value)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (typeof value !== \"number\") {\n\t\t\t\t\t\treject(\n\t\t\t\t\t\t\tnew DescriptorOperationError(\n\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t`Argument \"value\" must be of type \"number\".`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tvalue = new Uint8Array([value])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (bluetooth.isDataTransferLoggingEnabled) {\n\t\t\t\t\tlogger.target.debug(\n\t\t\t\t\t\t`${this.description.name}: Write:`,\n\t\t\t\t\t\tvalue\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tawait this.characteristic.service.device.performGATTOperation(() => {\n\t\t\t\t\treturn this._bluetoothDescriptor.writeValue(value)\n\t\t\t\t})\n\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew DescriptorOperationError(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\"Cannot write value.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n}\n\nclass DescriptorOperationError extends BluError {\n\tdescriptor\n\n\tconstructor(descriptor, message, underlyingError) {\n\t\tsuper(message, underlyingError)\n\n\t\tthis.descriptor = descriptor\n\t}\n}\n\nmodule.exports = Descriptor","const logger = require(\"./logger.js\")\nconst configuration = require(\"./configuration.js\")\nconst bluetooth = require(\"./bluetooth.js\")\n\nconst Service = require(\"./service.js\")\nconst Characteristic = require(\"./characteristic.js\")\nconst Descriptor = require(\"./descriptor.js\")\nconst GATTOperationQueue = require(\"./gattOperationQueue.js\")\nconst {\n\tServiceDescription,\n\tCharacteristicDescription,\n\tDescriptorDescription\n} = require(\"./descriptions.js\")\n\nconst BluError = require(\"../utils/bluError.js\")\nconst EventEmitter = require(\"../utils/eventEmitter.js\")\n\nclass Device extends EventEmitter {\n\tid\n\tname\n\tproperties\n\tservices = []\n\tserviceDescriptions = []\n\n\t_bluetoothDevice\n\n\t#gattOperationQueue = new GATTOperationQueue()\n\t#willDisconnect = false\n\n\tconstructor(bluetoothDevice) {\n\t\tsuper(true)\n\n\t\tthis.id = bluetoothDevice.id\n\t\tthis.name = bluetoothDevice.name\n\n\t\tthis._bluetoothDevice = bluetoothDevice\n\n\t\tthis.addChannel(\"advertised\")\n\t\tthis.addChannel(\"connected\")\n\t\tthis.addChannel(\"connection-lost\")\n\t\tthis.addChannel(\"disconnected\")\n\n\t\tthis.#initialize()\n\t}\n\n\tget characteristics() {\n\t\tlet characteristics = []\n\n\t\tfor (const service of this.services) {\n\t\t\tcharacteristics.push(...service.characteristics)\n\t\t}\n\n\t\treturn characteristics\n\t}\n\n\tget isConnected() {\n\t\treturn this._bluetoothDevice.gatt.connected\n\t}\n\n\tasync onceReady() {}\n\n\tconnect() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tawait this._bluetoothDevice.gatt.connect()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew DeviceConnectionError(\n\t\t\t\t\t\t\"Could not connect to device.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.#discoverBluetoothInterface()\n\n\t\t\t\tthis._bluetoothDevice.addEventListener(\n\t\t\t\t\t\"gattserverdisconnected\",\n\t\t\t\t\tthis.#onDisconnected.bind(this),\n\t\t\t\t\t{ once: true }\n\t\t\t\t)\n\n\t\t\t\tthis._bluetoothDevice.addEventListener(\n\t\t\t\t\t\"gattserverdisconnected\",\n\t\t\t\t\tthis.#onConnectionLost.bind(this),\n\t\t\t\t\t{ once: true }\n\t\t\t\t)\n\n\t\t\t\tawait this.onceReady()\n\n\t\t\t\tthis.emit(\"connected\")\n\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(error)\n\t\t\t}\n\t\t})\n\t}\n\n\tdisconnect() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tthis.#willDisconnect = true\n\n\t\t\ttry {\n\t\t\t\tawait this._bluetoothDevice.gatt.disconnect()\n\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew DeviceConnectionError(\n\t\t\t\t\t\t\"Could not disconnect from device.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tthis.#willDisconnect = false\n\t\t})\n\t}\n\n\tperformGATTOperation(callback) {\n\t\treturn this.#gattOperationQueue.await(callback)\n\t}\n\n\tasync #initialize() {\n\t\tthis.on(\"connected\", () => {\n\t\t\tlogger.log(\"Connected.\", this)\n\t\t\tbluetooth.emit(\"device-connected\", this)\n\t\t})\n\n\t\tthis.on(\"connection-lost\", () => {\n\t\t\tlogger.warn(\"Connection lost.\", this)\n\t\t\tbluetooth.emit(\"device-connection-lost\", this)\n\t\t})\n\n\t\tthis.on(\"disconnected\", () => {\n\t\t\tlogger.log(\"Disconnected.\", this)\n\t\t\tbluetooth.emit(\"device-disconnected\", this)\n\t\t})\n\n\t\tif (typeof this._bluetoothDevice.watchAdvertisements === \"function\") {\n\t\t\t// Experimental feature.\n\t\t\t// Compatibility: https://developer.mozilla.org/en-US/docs/Web/API/BluetoothDevice#browser_compatibility\n\n\t\t\ttry {\n\t\t\t\tthis._bluetoothDevice.addEventListener(\"advertisementreceived\", event => {\n\t\t\t\t\t// TODO: Create custom event.\n\t\t\t\t\tthis.emit(\"advertised\", event)\n\t\t\t\t})\n\n\t\t\t\tawait this._bluetoothDevice.watchAdvertisements()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\tlogger.warn(\n\t\t\t\t\tnew DeviceOperationError(\n\t\t\t\t\t\t\"Could not start watching for advertisements.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\tasync #discoverBluetoothInterface() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tlet interfaceIncomplete = false\n\n\t\t\t\tfor (const serviceDescription of this.serviceDescriptions) {\n\t\t\t\t\tlet service\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tservice = new serviceDescription.type(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tawait this._bluetoothDevice.gatt.getPrimaryService(\n\t\t\t\t\t\t\t\tserviceDescription.uuid\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tserviceDescription\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (service.description.identifier) {\n\t\t\t\t\t\t\tthis[service.description.identifier] = service\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.services.push(service)\n\t\t\t\t\t}\n\t\t\t\t\tcatch(error) {\n\t\t\t\t\t\tinterfaceIncomplete = true\n\n\t\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\t`Could not discover \"${serviceDescription.name}\" ` +\n\t\t\t\t\t\t\t`(${serviceDescription.uuid}).`,\n\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (service) {\n\t\t\t\t\t\tfor (const characteristicDescription of serviceDescription.characteristics) {\n\t\t\t\t\t\t\tlet characteristic\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcharacteristic = new characteristicDescription.type(\n\t\t\t\t\t\t\t\t\tservice,\n\t\t\t\t\t\t\t\t\tawait service._bluetoothService.getCharacteristic(\n\t\t\t\t\t\t\t\t\t\tcharacteristicDescription.uuid\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tcharacteristicDescription\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\tif (characteristic.description.identifier) {\n\t\t\t\t\t\t\t\t\tservice[characteristic.description.identifier] = characteristic\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tservice.characteristics.push(characteristic)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatch(error) {\n\t\t\t\t\t\t\t\tinterfaceIncomplete = true\n\n\t\t\t\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\t\t\t`Could not discover \"${characteristicDescription.name}\" ` +\n\t\t\t\t\t\t\t\t\t`(${characteristicDescription.uuid}) ` +\n\t\t\t\t\t\t\t\t\t`in \"${serviceDescription.name}\" ` +\n\t\t\t\t\t\t\t\t\t`(${serviceDescription.uuid}).`,\n\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (characteristic) {\n\t\t\t\t\t\t\t\tfor (const descriptorDescription of characteristicDescription.descriptors) {\n\t\t\t\t\t\t\t\t\tlet descriptor\n\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tdescriptor = new descriptorDescription.type(\n\t\t\t\t\t\t\t\t\t\t\tcharacteristic,\n\t\t\t\t\t\t\t\t\t\t\tawait characteristic._bluetoothCharacteristic.getDescriptor(\n\t\t\t\t\t\t\t\t\t\t\t\tdescriptorDescription.uuid\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tdescriptorDescription\n\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\tif (descriptor.description.identifier) {\n\t\t\t\t\t\t\t\t\t\t\tcharacteristic[descriptor.description.identifier] = descriptor\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcharacteristic.descriptors.push(descriptor)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcatch(error) {\n\t\t\t\t\t\t\t\t\t\tinterfaceIncomplete = true\n\n\t\t\t\t\t\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\t\t\t\t\t`Could not discover \"${descriptorDescription.name}\" ` +\n\t\t\t\t\t\t\t\t\t\t\t`(${descriptorDescription.uuid}) ` +\n\t\t\t\t\t\t\t\t\t\t\t`in \"${characteristicDescription.name}\" ` +\n\t\t\t\t\t\t\t\t\t\t\t`(${characteristicDescription.uuid}).`,\n\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (configuration.ensureCompleteDeviceBluetoothInterface && interfaceIncomplete) {\n\t\t\t\t\tthrow new DeviceBluetoothInterfaceIncompleteError(\n\t\t\t\t\t\t`The devices Bluetooth interface is incomplete. ` +\n\t\t\t\t\t\t`Make sure that your service descriptions are correct or configure ` +\n\t\t\t\t\t\t`Blu to ignore incomplete device Bluetooth interfaces by setting the ` +\n\t\t\t\t\t\t`configuration property \"ensureCompleteDeviceBluetoothInterface\" ` +\n\t\t\t\t\t\t`to \"false\" before calling \"device.connect()\".`\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tlet services = await this._bluetoothDevice.gatt.getPrimaryServices()\n\n\t\t\t\tfor (let service of services) {\n\t\t\t\t\tservice = new Service(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tservice,\n\t\t\t\t\t\tnew ServiceDescription(service.uuid)\n\t\t\t\t\t)\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!this.services.find(describedService => {\n\t\t\t\t\t\t\treturn describedService.uuid === service.uuid\n\t\t\t\t\t\t})\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.services.push(service)\n\t\t\t\t\t}\n\n\t\t\t\t\tlet characteristics = await service._bluetoothService.getCharacteristics()\n\n\t\t\t\t\tfor (let characteristic of characteristics) {\n\t\t\t\t\t\tcharacteristic = new Characteristic(\n\t\t\t\t\t\t\tservice,\n\t\t\t\t\t\t\tcharacteristic,\n\t\t\t\t\t\t\tnew CharacteristicDescription(characteristic.uuid)\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!service.characteristics.find(describedCharacteristic => {\n\t\t\t\t\t\t\t\treturn describedCharacteristic.uuid === characteristic.uuid\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tservice.characteristics.push(characteristic)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar descriptors = await characteristic._bluetoothCharacteristic.getDescriptors()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(error) {\n\t\t\t\t\t\t\tif (error.name === \"NotFoundError\") {\n\t\t\t\t\t\t\t\tdescriptors = []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tthrow new DescriptorDiscoveryError(\n\t\t\t\t\t\t\t\t\t`Could not discover descriptors of characteristic with UUID ` +\n\t\t\t\t\t\t\t\t\t`\"${characteristic.uuid}\".`,\n\t\t\t\t\t\t\t\t\terror\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (let descriptor of descriptors) {\n\t\t\t\t\t\t\tdescriptor = new Descriptor(\n\t\t\t\t\t\t\t\tcharacteristic,\n\t\t\t\t\t\t\t\tdescriptor,\n\t\t\t\t\t\t\t\tnew DescriptorDescription(descriptor.uuid)\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!characteristic.descriptors.find(describedDescriptor => {\n\t\t\t\t\t\t\t\t\treturn describedDescriptor.uuid === descriptor.uuid\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcharacteristic.descriptors.push(descriptor)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst { autoListenToNotifiableCharacteristics } = require(\"./configuration.js\")\n\n\t\t\t\tfor (const service of this.services) {\n\t\t\t\t\tfor (const characteristic of service.characteristics) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tcharacteristic.properties.notify &&\n\t\t\t\t\t\t\tautoListenToNotifiableCharacteristics\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tawait characteristic.startListeningForNotifications()\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (const descriptor of characteristic.descriptors) {\n\t\t\t\t\t\t\tawait descriptor.onceReady()\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tawait characteristic.onceReady()\n\t\t\t\t\t}\n\n\t\t\t\t\tawait service.onceReady()\n\t\t\t\t}\n\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew DeviceBluetoothInterfaceDiscoveryError(\n\t\t\t\t\t\t\"Could not discover the devices Bluetooth interface.\",\n\t\t\t\t\t\terror\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\t#onConnectionLost() {\n\t\tif (this.#willDisconnect) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.emit(\"connection-lost\")\n\t}\n\n\t#onDisconnected() {\n\t\tthis.emit(\"disconnected\")\n\t}\n}\n\nclass DeviceOperationError extends BluError {}\nclass DeviceConnectionError extends BluError {}\nclass DeviceBluetoothInterfaceDiscoveryError extends BluError {}\nclass DeviceBluetoothInterfaceIncompleteError extends BluError {}\nclass DescriptorDiscoveryError extends BluError {}\n\nmodule.exports = Device","const EventEmitter = require(\"../utils/eventEmitter.js\")\nconst BluError = require(\"../utils/bluError.js\")\n\nclass GATTOperationQueue extends EventEmitter {\n\t#operationTimeout = 5000\n\t#isGATTOperationInProgress = false\n\n\tget isBusy() {\n\t\treturn this.#isGATTOperationInProgress\n\t}\n\n\tawait(callback) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (typeof callback !== \"function\") {\n\t\t\t\treject(\n\t\t\t\t\tnew GATTOperationQueueError(\n\t\t\t\t\t\t`Argument \"callback\" must be of type \"function\".`\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tawait this.#onceReadyForGATTOperation()\n\n\t\t\tlet timeout = setTimeout(() => {\n\t\t\t\treject(\n\t\t\t\t\tnew GATTOperationError(\n\t\t\t\t\t\t`GATT operation timed out after ${this.#operationTimeout} ms.`\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}, this.#operationTimeout)\n\n\t\t\tthis.#isGATTOperationInProgress = true\n\n\t\t\tthis.emit(\"gatt-operation-started\")\n\n\t\t\tcallback()\n\t\t\t.then(value => {\n\t\t\t\tresolve(value)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\treject(error)\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tclearTimeout(timeout)\n\n\t\t\t\tthis.#isGATTOperationInProgress = false\n\n\t\t\t\tthis.emit(\"gatt-operation-finished\")\n\t\t\t})\n\t\t})\n\t}\n\n\t#onceReadyForGATTOperation() {\n\t\treturn new Promise(resolve => {\n\t\t\tif (!this.#isGATTOperationInProgress) {\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.once(\"gatt-operation-finished\", resolve)\n\t\t\t}\n\t\t})\n\t}\n}\n\nclass GATTOperationQueueError extends BluError {}\nclass GATTOperationError extends BluError {}\n\nmodule.exports = GATTOperationQueue","const Logger = require(\"../utils/logger.js\")\n\nmodule.exports = new Logger()","const Response = require(\"./response.js\")\n\nconst BluError = require(\"../utils/bluError.js\")\nconst isTypedArray = require(\"../utils/isTypedArray.js\")\n\nclass Request {\n\tresponseType = Response\n\tdata\n\n\tconstructor(...data) {\n\t\tif (data.length === 0) {\n\t\t\tthrow new RequestConstructionError(`Argument \"data\" is required.`)\n\t\t}\n\n\t\tif (isTypedArray(data[0]) && data[1] === undefined) {\n\t\t\tthis.data = data[0]\n\t\t}\n\t\telse {\n\t\t\tif (!data.every(entry => typeof entry === \"number\")) {\n\t\t\t\tthrow new RequestConstructionError(\n\t\t\t\t\t`Argument \"data\" must be an array of items ` +\n\t\t\t\t\t`that are all of type \"number\".`\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tthis.data = new Uint8Array(data)\n\t\t}\n\t}\n}\n\nclass RequestConstructionError extends BluError {}\n\nmodule.exports = Request","const BluError = require(\"../utils/bluError.js\")\nconst isTypedArray = require(\"../utils/isTypedArray.js\")\n\nclass Response {\n\tdata\n\n\tconstructor(data) {\n\t\tif (data !== undefined && data !== null && !isTypedArray(data)) {\n\t\t\tthrow new ResponseConstructionError(\n\t\t\t\t`Argument \"data\" must be either \"undefined\", ` +\n\t\t\t\t`\"null\" or a concrete type of \"TypedArray\". ` +\n\t\t\t\t`Got \"${data?.constructor.name}\" instead.`\n\t\t\t)\n\t\t}\n\n\t\tthis.data = data ?? null\n\t}\n\n\tstatic validatorFunction(response) {\n\t\treturn true\n\t}\n}\n\nclass ResponseConstructionError extends BluError {}\n\nmodule.exports = Response","const bluetooth = require(\"./bluetooth.js\")\n\nconst BluError = require(\"../utils/bluError.js\")\n\nclass Scanner {\n\tgetDevice() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (!bluetooth.isSupported) {\n\t\t\t\treject(\n\t\t\t\t\tnew BluError(\n\t\t\t\t\t\t\"Blu is not compatible with this browser.\"\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst { scannerConfig, deviceType } = require(\"./configuration.js\")\n\n\t\t\t\tlet device = await globalThis.navigator.bluetooth.requestDevice(scannerConfig)\n\n\t\t\t\tdevice = device === undefined ? null : new deviceType(device)\n\n\t\t\t\tresolve(device)\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\tif (error.name === \"NotFoundError\") {\n\t\t\t\t\t// Device chooser has been closed on the client side.\n\t\t\t\t\tresolve(null)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treject(\n\t\t\t\t\t\tnew ScannerError(\"An error occurred.\", error)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tgetPairedDevices() {\n\t\t// Experimental feature.\n\t\t// Compatibility: https://developer.mozilla.org/en-US/docs/Web/API/Bluetooth/getDevices#browser_compatibility\n\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (typeof globalThis.navigator?.bluetooth?.getDevices !== \"function\") {\n\t\t\t\treject(\n\t\t\t\t\tnew ScannerError(\n\t\t\t\t\t\t\"This feature is not supported by this browser.\"\n\t\t\t\t\t)\n\t\t\t\t)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlet devices = await globalThis.navigator.bluetooth.getDevices()\n\n\t\t\t\tresolve(devices)\n\t\t\t}\n\t\t\tcatch(error) {\n\t\t\t\treject(\n\t\t\t\t\tnew ScannerError(\"An error occurred.\", error)\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n}\n\nclass ScannerError extends BluError {}\n\nmodule.exports = new Scanner()","const EventEmitter = require(\"../utils/eventEmitter.js\")\n\nclass Service extends EventEmitter {\n\tdevice\n\tdescription\n\tcharacteristics\n\n\t_bluetoothService\n\n\tconstructor(device, bluetoothService, description) {\n\t\tsuper()\n\n\t\tthis.device = device\n\t\tthis.description = description\n\t\tthis.characteristics = []\n\n\t\tthis._bluetoothService = bluetoothService\n\t}\n\n\tget uuid() {\n\t\treturn this._bluetoothService.uuid\n\t}\n\n\tasync onceReady() {}\n}\n\nmodule.exports = Service","// Generated by genversion.\nmodule.exports = \"1.3.1\"\n","class BluError extends Error {\n\tconstructor(message, underlyingError) {\n\t\tsuper(message, { cause: underlyingError })\n\n\t\tif (Error.captureStackTrace) {\n\t\t\tError.captureStackTrace(this, this.constructor)\n\t\t}\n\n\t\tthis.name = this.constructor.name\n\n\t\tif (underlyingError) {\n\t\t\tthis.message += ` // ${underlyingError.name}: ${underlyingError.message}`\n\t\t}\n\t}\n}\n\nmodule.exports = BluError","const logger = require(\"../src/logger.js\")\n\nconst BluError = require(\"./bluError.js\")\n\nclass EventEmitter {\n\t#strictMode\n\t#listeners = new Map()\n\t#mutedChannels = new Set()\n\n\tconstructor(strictMode = false) {\n\t\tif (typeof strictMode !== \"boolean\") {\n\t\t\tthrow new EventEmitterError(`Argument \"strictMode\" must be of type \"boolean\".`)\n\t\t}\n\n\t\tthis.#strictMode = strictMode\n\t}\n\n\temit(channel, ...payload) {\n\t\tif (typeof channel !== \"string\") {\n\t\t\tthrow new EventEmitterError(`Argument \"channel\" must be of type \"string\".`)\n\t\t}\n\n\t\tif (this.#strictMode && !this.#listeners.has(channel)) {\n\t\t\tthrow new EventEmitterError(\n\t\t\t\t`\"${channel}\" is not a valid channel. ` +\n\t\t\t\t`Add it manually or disable strict mode.`\n\t\t\t)\n\t\t}\n\n\t\tif (!this.#listeners.has(channel)) {\n\t\t\tthis.#listeners.set(channel, new Set())\n\t\t}\n\n\t\tif (this.#mutedChannels.has(channel)) {\n\t\t\tlogger.debug(`Suppressed event for the muted channel \"${channel}\".`, this)\n\n\t\t\treturn\n\t\t}\n\n\t\tfor (const callback of this.#listeners.get(channel)) {\n\t\t\tcallback(...payload)\n\t\t}\n\t}\n\n\ton(channel, callback) {\n\t\tif (typeof channel !== \"string\") {\n\t\t\tthrow new EventEmitterError(`Argument \"channel\" must be of type \"string\".`)\n\t\t}\n\n\t\tif (typeof callback !== \"function\") {\n\t\t\tthrow new EventEmitterError(`Argument \"callback\" must be of type \"function\".`)\n\t\t}\n\n\t\tif (this.#strictMode && !this.#listeners.has(channel)) {\n\t\t\tthrow new EventEmitterError(\n\t\t\t\t`\"${channel}\" is not a valid channel. ` +\n\t\t\t\t`Add it manually or disable strict mode.`\n\t\t\t)\n\t\t}\n\n\t\tif (!this.#listeners.has(channel)) {\n\t\t\tthis.#listeners.set(channel, new Set())\n\t\t}\n\n\t\tthis.#listeners.set(channel, this.#listeners.get(channel).add(callback))\n\t}\n\n\tonce(channel, callback) {\n\t\tlet onceCallback = (...payload) => {\n\t\t\tthis.off(channel, onceCallback)\n\t\t\tcallback(...payload)\n\t\t}\n\n\t\tthis.on(channel, onceCallback)\n\t}\n\n\tmuteChannel(channel) {\n\t\tif (typeof channel !== \"string\") {\n\t\t\tthrow new EventEmitterError(`Argument \"channel\" must be of type \"string\".`)\n\t\t}\n\n\t\tif (!this.#listeners.has(channel)) {\n\t\t\tthrow new EventEmitterError(`\"${channel}\" is not a valid channel.`)\n\t\t}\n\n\t\tif (this.#mutedChannels.has(channel)) {\n\t\t\tlogger.warn(`The channel \"${channel}\" is already muted.`, this)\n\n\t\t\treturn\n\t\t}\n\n\t\tthis.#mutedChannels.add(channel)\n\t}\n\n\tunmuteChannel(channel) {\n\t\tif (typeof channel !== \"string\") {\n\t\t\tthrow new EventEmitterError(`Argument \"channel\" must be of type \"string\".`)\n\t\t}\n\n\t\tif (!this.#listeners.has(channel)) {\n\t\t\tthrow new EventEmitterError(`\"${channel}\" is not a valid channel.`)\n\t\t}\n\n\t\tif (!this.#mutedChannels.has(channel)) {\n\t\t\tlogger.warn(`The channel \"${channel}\" is already unmuted.`, this)\n\n\t\t\treturn\n\t\t}\n\n\t\tthis.#mutedChannels.delete(channel)\n\t}\n\n\toff(channel, callback) {\n\t\tif (typeof channel !== \"string\") {\n\t\t\tthrow new EventEmitterError(`Argument \"channel\" must be of type \"string\".`)\n\t\t}\n\n\t\tif (typeof callback !== \"function\") {\n\t\t\tthrow new EventEmitterError(`Argument \"callback\" must be of type \"function\".`)\n\t\t}\n\n\t\tif (!this.#listeners.has(channel)) {\n\t\t\tthrow new EventEmitterError(`\"${channel}\" is not a valid channel.`)\n\t\t}\n\n\t\tif (!this.#listeners.get(channel).delete(callback)) {\n\t\t\tlogger.warn(\n\t\t\t\t`Cannot remove the function in argument \"callback\", ` +\n\t\t\t\t`as it is not yet registered for \"${channel}\".`,\n\t\t\t\tthis\n\t\t\t)\n\t\t}\n\t}\n\n\taddChannel(channel) {\n\t\tif (typeof channel !== \"string\") {\n\t\t\tthrow new EventEmitterError(`Argument \"channel\" must be of type \"string\".`)\n\t\t}\n\n\t\tif (!this.#listeners.has(channel)) {\n\t\t\tthis.#listeners.set(channel, new Set())\n\t\t}\n\t\telse {\n\t\t\tlogger.warn(`The channel \"${channel}\" already exists.`, this)\n\t\t}\n\t}\n\n\tremoveChannel(channel) {\n\t\tif (typeof channel !== \"string\") {\n\t\t\tthrow new EventEmitterError(`Argument \"channel\" must be of type \"string\".`)\n\t\t}\n\n\t\tif (this.#listeners.has(channel)) {\n\t\t\tthis.#listeners.delete(channel)\n\t\t}\n\t\telse {\n\t\t\tlogger.warn(`The channel \"${channel}\" does not exist.`, this)\n\t\t}\n\t}\n\n\tremoveAllListeners(channel) {\n\t\tif (channel !== undefined && typeof channel !== \"string\") {\n\t\t\tthrow new EventEmitterError(\n\t\t\t\t`Argument \"channel\" must be either \"undefined\" or of type \"string\".`\n\t\t\t)\n\t\t}\n\n\t\tif (channel) {\n\t\t\tif (this.#listeners.has(channel)) {\n\t\t\t\tthis.#listeners.set(channel, new Set())\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlogger.warn(`The channel \"${channel}\" does not exist.`, this)\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.#listeners.clear()\n\t\t}\n\t}\n}\n\nclass EventEmitterError extends BluError {}\n\nmodule.exports = EventEmitter","function isArray(subject) {\n\treturn Array.isArray(subject)\n}\n\nmodule.exports = isArray","function isSubclass(subject, classToTest) {\n\treturn subject.prototype instanceof classToTest || subject === classToTest\n}\n\nmodule.exports = isSubclass","function isTypedArray(subject) {\n\treturn ArrayBuffer.isView(subject)\n}\n\nmodule.exports = isTypedArray","const BluError = require(\"../utils/bluError.js\")\n\nclass Logger {\n\tincludeTimestamps = false\n\tincludeLevelNames = false\n\n\t#prefix = \"\"\n\t#level = 0\n\t#target = console\n\t#isEnabled = true\n\n\tget isEnabled() {\n\t\treturn this.#isEnabled\n\t}\n\n\tget target() {\n\t\treturn this.#target\n\t}\n\n\tenable() {\n\t\tif (this.#isEnabled) {\n\t\t\tthis.warn(\"Already enabled.\", this)\n\t\t}\n\n\t\tthis.#isEnabled = true\n\t}\n\n\tdisable() {\n\t\tif (!this.#isEnabled) {\n\t\t\tthis.warn(\"Already disabled.\", this)\n\t\t}\n\n\t\tthis.#isEnabled = false\n\t}\n\n\tsetPrefix(prefix) {\n\t\tif (typeof prefix !== \"string\") {\n\t\t\tthrow new LoggerError(\n\t\t\t\t`Argument \"prefix\" must be of type \"string\".`\n\t\t\t)\n\t\t}\n\n\t\tthis.#prefix = prefix\n\t}\n\n\tsetPrefix(prefix) {\n\t\tif (typeof prefix !== \"string\") {\n\t\t\tthrow new LoggerError(\n\t\t\t\t`Argument \"prefix\" must be of type \"string\".`\n\t\t\t)\n\t\t}\n\n\t\tthis.#prefix = prefix\n\t}\n\n\tsetLevel(level) {\n\t\tif (\n\t\t\ttypeof level !== \"string\" ||\n\t\t\t![\"debug\", \"log\", \"warn\", \"error\"].includes(level)\n\t\t) {\n\t\t\tthrow new LoggerError(\n\t\t\t\t`Argument \"level\" must be of type \"string\" and be one of the ` +\n\t\t\t\t`following: \"debug\", \"log\", \"warn\" or \"error\".`\n\t\t\t)\n\t\t}\n\n\t\tswitch (level) {\n\t\t\tcase \"debug\":\n\t\t\t\tthis.#level = 0\n\t\t\t\tbreak\n\t\t\tcase \"log\":\n\t\t\t\tthis.#level = 1\n\t\t\t\tbreak\n\t\t\tcase \"warn\":\n\t\t\t\tthis.#level = 2\n\t\t\t\tbreak\n\t\t\tcase \"error\":\n\t\t\t\tthis.#level = 3\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tsetTarget(consoleLike) {\n\t\tif (\n\t\t\ttypeof consoleLike !== \"object\" ||\n\t\t\ttypeof consoleLike.log !== \"function\" ||\n\t\t\ttypeof consoleLike.debug !== \"function\" ||\n\t\t\ttypeof consoleLike.warn !== \"function\" ||\n\t\t\ttypeof consoleLike.error !== \"function\"\n\t\t) {\n\t\t\tthrow new LoggerError(\n\t\t\t\t`Argument \"consoleLike\" must be an object that implements the ` +\n\t\t\t\t`following functions: \"log\", \"debug\", \"warn\" and \"error\".`\n\t\t\t)\n\t\t}\n\n\t\tthis.#target = consoleLike\n\t}\n\n\tdebug(message, origin) {\n\t\tif (!this.#isEnabled || this.#level > 0) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.#target.debug(this.#getMessagePrefix(origin, \"debug\") + message)\n\t}\n\n\tlog(message, origin) {\n\t\tif (!this.#isEnabled || this.#level > 1) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.#target.log(this.#getMessagePrefix(origin, \"log\") + message)\n\t}\n\n\twarn(message, origin) {\n\t\tif (!this.#isEnabled || this.#level > 2) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.#target.warn(this.#getMessagePrefix(origin, \"warn\") + message)\n\t}\n\n\terror(message, origin) {\n\t\tif (!this.#isEnabled) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.#target.error(this.#getMessagePrefix(origin, \"error\") + message)\n\t}\n\n\t#getMessagePrefix(origin, level) {\n\t\tlet prefix = \"\"\n\n\t\tif (!!this.includeTimestamps) {\n\t\t\tprefix += `[${DateFormatter.format(Date.now())}] `\n\t\t}\n\n\t\tif (!!this.includeLevelNames) {\n\t\t\tprefix += `[${level}] `\n\t\t}\n\n\t\tif (this.#prefix.length > 0) {\n\t\t\tprefix += `[${this.#prefix}] `\n\t\t}\n\n\t\tif (typeof origin === \"string\") {\n\t\t\tprefix += `${origin}: `\n\t\t}\n\t\telse if (origin?.constructor) {\n\t\t\tprefix += `${origin.constructor.name}: `\n\t\t}\n\t\telse if (origin?.name) {\n\t\t\tprefix += `${origin.name}: `\n\t\t}\n\n\t\treturn prefix\n\t}\n}\n\nconst DateFormatter = new Intl.DateTimeFormat(\"en-US\", {\n\thour12: false,\n\thour: \"numeric\",\n\tminute: \"numeric\",\n\tsecond: \"numeric\",\n\tfractionalSecondDigits: 3\n})\n\nclass LoggerError extends BluError {}\n\nmodule.exports = Logger","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(920);\n"],"names":["root","factory","exports","module","define","amd","this","bluetooth","configuration","logger","scanner","version","ServiceDescription","CharacteristicDescription","DescriptorDescription","Service","Characteristic","Descriptor","Device","Request","Response","BluError","EventEmitter","Bluetooth","Set","constructor","super","addChannel","isSupported","globalThis","navigator","addEventListener","event","emit","value","on","clear","device","add","delete","isDataTransferLoggingEnabled","connectedDevices","Array","from","connectedDevice","length","isAvailable","Promise","resolve","getAvailability","then","available","enableDataTransferLogging","disableDataTransferLogging","isArray","isTypedArray","REQUEST_TIMEOUT","CharacteristicProperties","read","write","writeWithoutResponse","notify","bluetoothCharacteristicProperties","isListening","string","toString","join","CharacteristicOperationError","characteristic","message","underlyingError","NotificationTimeoutError","service","description","properties","descriptors","responseType","_bluetoothCharacteristic","bluetoothCharacteristic","response","target","debug","name","uuid","hasExpectedProperties","expectedIndicators","async","readValue","reject","performGATTOperation","error","responseProperty","withoutResponse","every","entry","Uint8Array","writeValueWithoutResponse","writeValueWithResponse","request","timeout","onResponse","validatorFunction","clearTimeout","timeoutTimer","off","data","setTimeout","catch","requestAll","requests","responses","push","startListeningForNotifications","startNotifications","bind","stopListeningForNotifications","stopNotifications","removeEventListener","isSubclass","BluConfigurationError","Configuration","restoreDefaults","scannerConfig","deviceType","ensureCompleteDeviceBluetoothInterface","autoListenToNotifiableCharacteristics","acceptAllDevices","use","useScannerConfig","useDeviceType","set","Object","getOwnPropertyNames","propertyName","includes","hasOwn","Description","identifier","DescriptionConstructionError","toLowerCase","type","descriptorDescriptions","CharacteristicDescriptionConstructionError","descriptorDescription","match","DescriptorDescriptionConstructionError","ServiceDescriptionConstructionError","characteristics","characteristicDescriptions","characteristicDescription","DescriptorOperationError","descriptor","_bluetoothDescriptor","bluetoothDescriptor","writeValue","GATTOperationQueue","DeviceOperationError","DeviceConnectionError","DeviceBluetoothInterfaceDiscoveryError","DeviceBluetoothInterfaceIncompleteError","DescriptorDiscoveryError","id","services","serviceDescriptions","_bluetoothDevice","bluetoothDevice","isConnected","gatt","connected","connect","once","onceReady","disconnect","callback","await","log","warn","watchAdvertisements","interfaceIncomplete","serviceDescription","getPrimaryService","_bluetoothService","getCharacteristic","getDescriptor","getPrimaryServices","find","describedService","getCharacteristics","describedCharacteristic","getDescriptors","describedDescriptor","GATTOperationQueueError","GATTOperationError","isBusy","finally","Logger","RequestConstructionError","undefined","ResponseConstructionError","static","ScannerError","Scanner","getDevice","requestDevice","getPairedDevices","getDevices","bluetoothService","Error","cause","captureStackTrace","EventEmitterError","Map","strictMode","channel","payload","has","get","onceCallback","muteChannel","unmuteChannel","removeChannel","removeAllListeners","subject","classToTest","prototype","ArrayBuffer","isView","DateFormatter","Intl","DateTimeFormat","hour12","hour","minute","second","fractionalSecondDigits","LoggerError","includeTimestamps","includeLevelNames","console","isEnabled","enable","disable","setPrefix","prefix","setLevel","level","setTarget","consoleLike","origin","format","Date","now","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}